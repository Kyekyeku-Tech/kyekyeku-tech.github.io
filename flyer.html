<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Flyer Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
      body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    
}

/* Form Container */
.form-container {
    width: 90%;
    max-width: 450px;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 12px 4px rgba(0, 0, 0, 0.973);
    text-align: center;
    backdrop-filter: blur(10px);
    animation: fadeIn 0.8s ease-in-out;
}

.form-container h2 {
    color: #fc0505;
    margin-bottom: 20px;
    font-weight: 700;
}

.form-container img {
    position: absolute;
    top: 10px;
    right: 0px;
    width: 150px; /* Adjust size as needed */
    height: auto;
}

.form-container img:hover {
    transform: scale(1.05);
}

/* Form Inputs */
.form-container label {
    display: block;
    text-align: left;
    color: rgb(5, 42, 250);
    font-weight: 500;
    margin-bottom: 5px;
}

.form-container input,
.form-container select,
.form-container button {
    width: 80%;
    padding: 10px;
    margin-bottom: 15px;
    border: 2px solid red;
    border-radius: 8px;
    font-size: 16px;
    transition: all 0.3s ease;
}

.form-container input,
.form-container select {

    font-weight: 500;
}

.form-container input:focus,
.form-container select:focus {
    border-color: #ffd000;
    outline: none;
}

/* Button */
.form-container button {
    background: linear-gradient(45deg, #000, #0905f7);
    color: white;
    font-weight: 700;
    cursor: pointer;
    border: none;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease-in-out;
}

.form-container button:hover {
    background: linear-gradient(45deg, #0905f7, #000);
    transform: scale(1.05);
}


/* Animations */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Responsive */
@media (max-width: 480px) {
    .form-container {
        width: 95%;
        padding: 20px;
    }
}

    input, textarea {
      width: 90%;
      padding: 12px;
      margin-top: 6px;
      border-radius: 10px;
      border: 2px solid #fc0303;
      font-size: 16px;
      box-sizing: border-box;
    }

    button {
      margin-top: 30px;
      padding: 14px;
      width: 100%;
      background: linear-gradient(135deg, #007bff, #00c6ff);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: linear-gradient(135deg, #0056b3, #0099cc);
    }

    #flyerCanvas {
      display: block;
      margin: 0 auto;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border: 5px solid white;
    }

   

  a.download-link {
  display: block;
  text-align: center;
  margin: 20px auto 40px;
  width: 500px; /* match preview canvas width */
  font-size: 18px;
  color: #007bff;
  font-weight: bold;
  text-decoration: none;
}



    a.download-link:hover {
      text-decoration: underline;
    }
    /* Shrink preview display only */
#flyerCanvas.preview {
  transform: scale(0.46); /* makes it around 500px wide */
  transform-origin: top center;
  display: block;
  margin: 0 auto;
}

  </style>
</head>
<body>
  <div class="form-container">
        <img src="my-logo.png" id="containerimge">
  
    <h2>üßæ Free Instant Flyer</h2>
    <form id="flyerForm">
      <label for="businessName">Business Name</label>
      <input type="text" id="businessName" name="businessName" required>

      <label for="mobileNumber">üìû Mobile Number</label>
      <input type="text" id="mobileNumber" name="mobileNumber" required>

      <label for="accountName">üè¶ Account Name</label>
      <input type="text" id="accountName" name="accountName" required>

      <label for="afaPrice">üí≥ AFA Registration Price (GHS)</label>
      <input type="text" id="afaPrice" name="afaPrice" value="20.00" required>

      <label for="mtnList">üì° MTN Prices</label>
      <textarea id="mtnList" rows="3"></textarea>

      <label for="atList">üì∂ AT Prices</label>
      <textarea id="atList" rows="3"></textarea>

      <label for="telecelList">üì≤ Telecel Prices</label>
      <textarea id="telecelList" rows="3"></textarea>

      <button type="button" id="previewBtn">üñº Preview Flyer</button></form>

      <a href="premiumflyer.html" class="btm">No I Want premiumflyer</a>
    </div>
<canvas id="flyerCanvas" width="1080" height="1080" style="display: none;"></canvas>

  </form>
</div>
  <script>
    const canvas = document.getElementById('flyerCanvas');
    const ctx = canvas.getContext('2d');

    function drawCircularLogo(ctx, imgSrc, centerX, centerY, size = 70) {
      const img = new Image();
      img.crossOrigin = "anonymous";
      img.src = imgSrc;
      img.onload = () => {
        ctx.save();
        ctx.beginPath();
        ctx.arc(centerX, centerY, size / 2, 0, Math.PI * 2);
        ctx.closePath();
        ctx.clip();
        ctx.drawImage(img, centerX - size / 2, centerY - size / 2, size, size);
        ctx.restore();

        ctx.beginPath();
        ctx.arc(centerX, centerY, size / 2 + 3, 0, Math.PI * 2);
        ctx.strokeStyle = "white";
        ctx.lineWidth = 4;
        ctx.stroke();
      };
    }

    function drawSection(title, list, x, color, logoSrc) {
      const startY = 250;
      const boxWidth = 260;
      const boxHeight = 500;
      const boxX = x;
      const boxY = startY;

      // Background box
      ctx.save();
      ctx.shadowColor = "rgba(0, 0, 0, 0.2)";
      ctx.shadowBlur = 15;
      ctx.shadowOffsetX = 4;
      ctx.shadowOffsetY = 4;
      ctx.fillStyle = "black";
      ctx.beginPath();
      const radius = 25;
      ctx.moveTo(boxX + radius, boxY);
      ctx.lineTo(boxX + boxWidth - radius, boxY);
      ctx.quadraticCurveTo(boxX + boxWidth, boxY, boxX + boxWidth, boxY + radius);
      ctx.lineTo(boxX + boxWidth, boxY + boxHeight - radius);
      ctx.quadraticCurveTo(boxX + boxWidth, boxY + boxHeight, boxX + boxWidth - radius, boxY + boxHeight);
      ctx.lineTo(boxX + radius, boxY + boxHeight);
      ctx.quadraticCurveTo(boxX, boxY + boxHeight, boxX, boxY + boxHeight - radius);
      ctx.lineTo(boxX, boxY + radius);
      ctx.quadraticCurveTo(boxX, boxY, boxX + radius, boxY);
      ctx.closePath();
      ctx.fill();
      ctx.restore();

      drawCircularLogo(ctx, logoSrc, boxX + boxWidth / 2, boxY - 50);

      ctx.fillStyle = color;
      ctx.font = "bold 22px Poppins";
      ctx.textAlign = "center";
      ctx.fillText(title, boxX + boxWidth / 2, boxY + 40);

      const lines = list.split("\n");
      ctx.font = "16px monospace";
ctx.fillStyle = "#fff";
ctx.textAlign = "center"; // center text
let y = boxY + 80;
const centerX = boxX + boxWidth / 2;
for (let i = 0; i < lines.length; i++) {
  ctx.fillText(lines[i].trim(), centerX, y);
  y += 30;
}
    }

   function drawFlyer(data) {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

 // Modern layered background
ctx.fillStyle = "#1d1f27"; // Deep base color
ctx.fillRect(0, 0, canvas.width, canvas.height);

// Gradient overlay
const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
gradient.addColorStop(0, "#ff6a00");
gradient.addColorStop(0.5, "#ee0979");
gradient.addColorStop(1, "#3c3b3f");
ctx.globalAlpha = 0.7;
ctx.fillStyle = gradient;
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.globalAlpha = 1;

// Abstract circles
function drawCircle(x, y, r, color) {
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI * 2);
  ctx.fillStyle = color;
  ctx.fill();
}

drawCircle(200, 200, 150, "rgba(255, 255, 255, 0.06)");
drawCircle(880, 300, 100, "rgba(255, 255, 255, 0.08)");
drawCircle(540, 800, 120, "rgba(255, 255, 255, 0.04)");


  // Business name in blue
  ctx.fillStyle = "#007bff";
  ctx.font = "bold 42px Poppins";
  ctx.textAlign = "center";
  ctx.fillText(data.businessName.toUpperCase(), canvas.width / 2, 100);

  ctx.font = "20px Poppins";
  ctx.fillStyle = "#fff";
  ctx.fillText("Affordable Data & AFA Subscriptions", canvas.width / 2, 140);

  // Draw 3 telecom sections
  drawSection("MTN", data.mtnList, 90, "#f1c40f", "https://i.imgur.com/8yGv37J.png");

drawSection("AT", data.atList, 410, "#2c3e50", "https://i.imgur.com/8yGv37J.png");

drawSection("Telecel", data.telecelList, 730, "#e74c3c", "https://i.imgur.com/8yGv37J.png"); // Example base64 or CDN URL

  // Blue banner
  ctx.fillStyle = "#007bff";
  ctx.fillRect(180, 840, 720, 50);
  ctx.fillStyle = "#ffffff";
  ctx.font = "bold 22px Poppins";
  ctx.fillText("üöÄ Fast Delivery Plus Trusted Service", canvas.width / 2, 875);

  // AFA Registration
  // AFA REGISTRATION
ctx.fillStyle = "#ff0";
ctx.font = "bold 26px Poppins";
ctx.textAlign = "center";
ctx.fillText(`AFA REGISTRATION: GHS ${data.afaPrice}`, canvas.width / 2, 930);

// Payment Details container
const paymentX = 180;
const paymentY = 960;
const paymentWidth = 720;
const paymentHeight = 110;
const radius = 20;

// Background container
ctx.fillStyle = "rgba(0, 0, 0, 0.5)";
ctx.beginPath();
ctx.moveTo(paymentX + radius, paymentY);
ctx.lineTo(paymentX + paymentWidth - radius, paymentY);
ctx.quadraticCurveTo(paymentX + paymentWidth, paymentY, paymentX + paymentWidth, paymentY + radius);
ctx.lineTo(paymentX + paymentWidth, paymentY + paymentHeight - radius);
ctx.quadraticCurveTo(paymentX + paymentWidth, paymentY + paymentHeight, paymentX + paymentWidth - radius, paymentY + paymentHeight);
ctx.lineTo(paymentX + radius, paymentY + paymentHeight);
ctx.quadraticCurveTo(paymentX, paymentY + paymentHeight, paymentX, paymentY + paymentHeight - radius);
ctx.lineTo(paymentX, paymentY + radius);
ctx.quadraticCurveTo(paymentX, paymentY, paymentX + radius, paymentY);
ctx.closePath();
ctx.fill();

// Payment Details Heading
ctx.fillStyle = "#00c6ff";
ctx.font = "bold 22px Poppins";
ctx.fillText("üí∞ Payment Details", canvas.width / 2, paymentY + 30);

// Business name & number
ctx.fillStyle = "#fff";
ctx.font = "18px Poppins";
ctx.fillText(`üìû ${data.mobileNumber}`, canvas.width / 2, paymentY + 65);
ctx.fillText(`üíº Account: ${data.accountName}`, canvas.width / 2, paymentY + 95);

  // Download link creation
  const existing = document.querySelector(".download-link");
  if (existing) existing.remove();

  const link = document.createElement("a");
  link.download = "flyer.png";
  link.href = canvas.toDataURL();
  link.textContent = "‚¨áÔ∏è Download Flyer";
  link.className = "download-link";
  document.body.appendChild(link);
}



    document.getElementById("flyerForm").addEventListener("submit", function (e) {
  e.preventDefault();
  const data = {
    businessName: document.getElementById("businessName").value,
    mobileNumber: document.getElementById("mobileNumber").value,
    accountName: document.getElementById("accountName").value,
    afaPrice: document.getElementById("afaPrice").value,
    mtnList: document.getElementById("mtnList").value,
    atList: document.getElementById("atList").value,
    telecelList: document.getElementById("telecelList").value,
  };
  drawFlyer(data);

  // üëâ Hide the form and show download only
  document.querySelector(".form-container").style.display = "none";
});
document.getElementById("previewBtn").addEventListener("click", function () {
  const data = {
    businessName: document.getElementById("businessName").value,
    mobileNumber: document.getElementById("mobileNumber").value,
    accountName: document.getElementById("accountName").value,
    afaPrice: document.getElementById("afaPrice").value,
    mtnList: document.getElementById("mtnList").value,
    atList: document.getElementById("atList").value,
    telecelList: document.getElementById("telecelList").value,
  };

  drawFlyer(data);

  // üëá Hide the form
  document.querySelector(".form-container").style.display = "none";

  // üëá Show canvas and download link
  const flyerCanvas = document.getElementById("flyerCanvas");

flyerCanvas.classList.add("preview"); // Add preview class for scaling

  const link = document.getElementById("downloadLink");
  link.href = canvas.toDataURL();
  link.download = "flyer.png";
  
});




    // Default values
    // Default values (formatted line by line for easy editing)
document.getElementById("mtnList").value = 
  "1GB - 7.00\n" +
  "2GB - 13.50\n" +
  "3GB - 19.00\n" +
  "4GB - 25.00\n" +
  "5GB - 29.00\n" +
  "6GB - 35.00\n" +
  "8GB - 48.00\n" +
  "10GB - 54.00\n" +
  "15GB - 78.00\n" +
  "20GB - 98.00\n" +
  "25GB - 124.00\n" +
  "30GB - 140.00\n" +
  "40GB - 190.00\n";

document.getElementById("atList").value = 
  "1GB - 5.00\n" +
  "2GB - 10.00\n" +
  "3GB - 15.00\n" +
  "4GB - 20.00\n" +
  "5GB - 25.00\n" +
  "6GB - 30.00\n" +
  "8GB - 40.00\n" +
  "10GB - 48.00\n" +
  "15GB - 68.00\n" +
  "20GB - 80.00\n" +
  "25GB - 95.00\n" +
  "30GB - 110.00\n" +
  "50GB - 180.00";

document.getElementById("telecelList").value = 
  "5GB - 26.00\n" +
  "10GB - 40.50\n" +
  "15GB - 63.00\n" +
  "20GB - 80.00\n" +
  "25GB - 93.00\n" +
  "30GB - 110.00\n" +
  "50GB - 180.00\n" +
  "100GB - 340.00";
  </script>
</body>
</html>
